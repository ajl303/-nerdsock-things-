{"name":"TrueStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"modules/JB2A_DnD5e/Library/Generic/Twinkling_Stars/TwinklingStars_04_Thumb.webp","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a twinkle in the eye of the selected token.\n//eye position will have to be tweaked to the individual token.\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n//let centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\n//let cx = caster.data.x + (centerer * caster.data.width);\n//let cy = caster.data.y + (centerer * caster.data.height);\nlet cx = caster.data.x + 57;\nlet cy = caster.data.y + 73;\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/00BlueMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.startTimePerc(0.5)\n\t\t.timeRange(100,1700)\n\t\t.scale(0.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Energy/SwirlingSparkles_01_Regular_Blue_400x400.webm\")\n\t\t.waitUntilFinished()\n\t.wait(500)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n    \t.file(\"modules/JB2A_DnD5e/Library/Generic/Twinkling_Stars/TwinklingStars_04_Orange_100x100.webm\")\n\t\t.scale(0.3* caster.data.width)\n\t\t.timeRange(1000,2000)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t.sound(\"Custom/SFX/FF6SFx/C6SAVETING.wav\")\n\t//.sound(\"SFX/FF6SFx/8bSaveTing.wav\")\n\t.play();\nlet tsEffect = await fromUuid('Item.xSi2oGV6D7k5i0kI');\ntsEffect = duplicate(tsEffect);\nawait caster.actor.createOwnedItem(tsEffect);","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.WOJznnUP5LKZpVMJ"}},"_id":"0DEVipNZVo9gVi4D"}
{"name":"BasicFireboltSequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.missed()\n\t\t.waitUntilFinished(-1000)\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t.volume(0.1)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.bTBy0gIz0KEJ5hX1"}},"_id":"3q7vEzLP7uLedjsK"}
{"name":"FireShieldSequenceOnHit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"if(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\n\nnew Sequence()\n\n\t\n\t//add FF12 protect SFX here as well\n\t.effect()\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shield_equip_SQUARE_04.webm\")\n\t\t.atLocation(caster)\n\t\t.center()\n\t\t.scale(0.5)\n\t\t.fadeIn(250)\n\t\t.fadeOut(250)\n\t\t//.opacity(0.75)\n\t\t//.playbackRate(1.5)\n\t\t.timeRange(5000,5600)\n\t\t.waitUntilFinished(-550)\n\t.sound(\"Custom/SFX/FF6SFx/42Fire2.wav\")\n\t\t.volume(0.4)\n\t\t.startTime(150)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.cKPo4rgmDxMgm3xI"}},"_id":"5IeGiBSkEZDvCDSk"}
{"name":"DazzlingFlashSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"if(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DarkestDungeon/char_al_vst_illum.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.file(\"modules/JB2A_DnD5e/Library/1st_Level/Thunderwave/Thunderwave_01_Bright_Blue_BLeft_600x600.webm\")\n\t\t//.JB2A()\n\t\t.file(\"modules/animated-spell-effects/spell-effects/energy/flash_CIRCLE_01.webm\")\n\t\t.stretchTo(target)\n\t\t.filter(\"ColorMatrix\", {hue: 170, saturate: 1})\n\t\t//.tint(\"#FFF3C6\")\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.azNXUJDZ5LwiHlPx"}},"_id":"5S9lP9SM7pyzpmha"}
{"name":"ShootGunSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// g u n\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Sniper_projectile_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/Bullet_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.bullet.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.5)\n\t\t.waitUntilFinished(-300)\n\t.sound(\"Custom/SFX/DOTA 2/Sniper_projectile_impact1.mp3\")\n\t\t.volume(0.1)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.uH0ZAV5tbWGa0mGr"}},"_id":"6VSCQPD9zVQJ1e0l"}
{"name":"ReloadSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"new Sequence()\n\t.sound(\"Custom/SFX/DOTA 2/Assassinate_pre_cast.mp3\")\n\t\t.volume(0.10)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.ZYJNzAV3KWDQIIeu"}},"_id":"8DPiMKBBUWhdADmY"}
{"name":"ScimitarStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 4)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_small_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Scimitar01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.LvzxKdsUq2vBxUyg"}},"_id":"9KYYJBJz5ci8SWRx"}
{"name":"FearSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//documentation\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.5)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF6SFx/4EDeathSpell.wav\")\n\t\t.volume(0.4)\n\t/*.sound(\"Custom/SFX/DOTA 2/Midnight_Pulse.mp3\")\n\t\t.timeRange(1000,3000)\n\t\t.volume(0.3)*/\n\t.sound(\"Custom/SFX/FF6SFx/B6ElfFire.wav\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_ball_CIRCLE_07.webm\")\n\t\t.opacity(0.5)\n\t\t.scale(3.5)\n\t\t.timeRange(1000,3000)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t\t.belowTokens()\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Marker/MarkerFear_01_Dark_Purple_400x400.webm\")\n\t\t.timeRange(0,2000)\n\t\t.fadeIn(1000)\n\t\t.fadeOut(1000)\n\t\t.scale(4)\n\t\t.randomRotation()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.sKWBieKNKDwpKKlJ"}},"_id":"9jqvJ8JVWVemqTBX"}
{"name":"HealSequence3A","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a healing animation on the targeted token\n\nlet caster = game.canvas.tokens.controlled[0];\n\nlet centerer = game.canvas.grid.size/2;\n//let tx = target.data.x + (centerer * target.data.width);\n//let ty = target.data.y + (centerer * target.data.height);\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/02WhiteMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1500,2500)\n\t\t.scale(1.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n    \t.file(\"modules/JB2A_DnD5e/Library/Generic/Healing/HealingAbility_01_Yellow_200x200.webm\")\n\t\t.scale(9)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t//.sound(\"SFX/FF6SFx/66CureSpellPart1.wav\")\n\t.sound(\"Custom/SFX/FF6SFx/CBCureSpellPart2.wav\")\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.fTKDcwPDeqBCyZ43"}},"_id":"CVgWZndtRIhhgVY0"}
{"name":"FoxfireStrikeSequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x;\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet side = Math.random();\nif(side < 0.5){\n\tconsole.log(\"Right side\");\n\tcx = cx + (game.canvas.grid.size * caster.data.width);\n} else {\n\tconsole.log(\"Left side\");\n}\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Spirits_Cast.mp3\")\n\t\t.volume(0.3)\n\t\t.timeRange(0,2000)\n\t.effect()\n\t\t//little blue fireball\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.timeRange(1000,2500)\n\t\t.filter(\"ColorMatrix\", {hue: 72})\n\t\t.scale(0.05)\n\t\t.fadeIn(350)\n\t\t.fadeOut(100)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/fire_ball_rotating_CIRCLE_02.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"SFX/DOTA 2/Fire_Spirits_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.fire_bolt.orange\")\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.missed()\n\t\t.filter(\"ColorMatrix\", {hue: 162})\n\t\t.waitUntilFinished(-1000)\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t.volume(0.2)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jKtV9B5tSt6XNBPZ"}},"_id":"CY35D2IQJ0atkqXs"}
{"name":"MaulStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with maul\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1800;\nlet swooshDelay = 1650;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_heavy_blade_impact{{imp}}.mp3\")\n\t\t.volume(0.15)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//impact2\n\t.sound(\"Custom/SFX/DOTA 2/Bash_(Slardar)_proc.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Maul01_01_Regular_White_800x600.webm\")\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.nsrVgVQ5uhDn2Dt0"}},"_id":"DbpjEAA0jDuFenNx"}
{"name":"HandaxeStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with handaxe\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1400;\nlet swooshDelay = 1200;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Axe_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Axe_attack{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/HandAxe02_01_Regular_White_800x600.webm\")\n\t\t//.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.pYXA9rshTKF1oqCB"}},"_id":"Ez4TFIBSa6adY6AU"}
{"name":"FireballSequenceCharred","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a fireball animation on the targeted token\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.5 * caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.sound(\"Custom/SFX/FF6SFx/19Fire3.wav\")\n\t.effect()\n\t\t.atLocation({x: tx, y: ty})\n\t\t.file(\"modules/JB2A_DnD5e/Library/3rd_Level/Fireball/FireballExplosion_01_Orange_800x800.webm\")\n    \t.scale(1.5)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t\t.randomRotation()\n\t.wait(600)\n\t.effect()\n\t\t.atLocation({x: tx, y: ty})\n\t\t.scale(1.5)\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Fire/GroundCrackLoop_01_Regular_Orange_600x600.webm\")\n\t\t.persist()\n\t\t.belowTokens()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.uQBcut1EGRdgNXTr"}},"_id":"FMSk4aB2EKCLL8hk"}
{"name":"BasicFireboltSequenceHit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.fire_bolt.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.5)\n\t\t.waitUntilFinished(-1000)\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t.volume(0.2)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.RTD2zOacFD9qxcfL"}},"_id":"G6BkN3vrZEjRqmPU"}
{"name":"ProduceFlameMeleeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with unarmed strike\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\n//let swoosh = Math.floor(Math.random() * 3)+1;\n//let impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 800;\nlet swooshDelay = 600;\n\nlet test = new Sequence()\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_launch.mp3\")\n\t\t.volume(0.2)\n\t\t.delay(swooshDelay)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t.volume(0.2)\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Unarmed_Attacks/Unarmed_Strike/UnarmedStrike_01_Regular_Blue_Physical01_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished(-500)\n\t\t.filter(\"ColorMatrix\", {hue: 180})\n\t.effect()\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/fire/fire_explosion_CIRCLE_08.webm\")\n\t\t.atLocation({x: tx, y: ty})\n\t\t.scale(0.2)\n\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.AcDnDNTGCQ8GzzT7"}},"_id":"H0ZDdkr76nUmxiO3"}
{"name":"VisionOfWeaknessSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays an eye animation on the target\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\n\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.5)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.effect()\n\t\t.atLocation({x: tx, y: ty})\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Magic_Signs/Divination_01_Light_Blue_Circle_800x800.webm\")\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Generic/Magic_Signs/DivinationCircleLoop_02_Regular_Blue_800x800.webm\")\n    \t.scale(0.15 * target.data.width)\n\t\t.filter(\"ColorMatrix\", {hue: 90})\n\t\t//.filter(\"ColorMatrix\", {hue: 145})\n\t\t.timeRange(1000,4000)\n\t\t.fadeIn(500)\n\t\t.fadeOut(1000)\n\t.sound(\"Custom/SFX/DOTA 2/Scan_enemy.mp3\")\n\t\t.volume(0.3)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.mAk7yDuq9NlxhBQP"}},"_id":"HYUit72IFJM8CE1v"}
{"name":"StaffStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1000,1200,1200,1400,1300,1700];\nlet swooshDelay = [800,1000,1000,700,1200,950];\n/*adds a second swoosh for the animations that should have\nthem.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\nlet repDelay = 400;\nif(ani == 6){\n\trepDelay = 650;\n}\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Phantom_Lancer_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,repDelay)\n\t//impact\n\t.sound(\"Custom/SFX/FF7/049aerisbonk.mp3\")\n\t//.sound(\"SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t//.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Quarterstaff01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.lgtWErA4QNMe4NdG"}},"_id":"KhVLIxW2ODzbUBrJ"}
{"name":"FireShieldSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"if(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation(caster)\n\t\t.center()\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF6SFx/06InFerno.wav\")\n\t\t.volume(0.5)\n\t//add FF12 protect SFX here as well\n\t.effect()\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shield_equip_SQUARE_04.webm\")\n\t\t.atLocation(caster)\n\t\t.center()\n\t\t.scale(0.5)\n\t\t.fadeIn(200)\n\t\t.fadeOut(300)\n\t\t.playbackRate(1.5)\n\t\t.timeRange(0,6000)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.loqUdjYyHxYcstHE"}},"_id":"LBXQFp9rUTrfoPgl"}
{"name":"DivinerSightSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"modules/JB2A_DnD5e/Library/Generic/Energy/IcosahedronRuneAbove_01_Regular_BlueYellow_Thumb.webp","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays an icosohedron on the selected token\nlet caster = game.canvas.tokens.controlled[0];\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/00BlueMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.startTimePerc(0.5)\n\t\t.timeRange(100,1700)\n\t\t.scale(0.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Energy/SwirlingSparkles_01_Regular_Blue_400x400.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n    \t.file(\"modules/JB2A_DnD5e/Library/Generic/Energy/IcosahedronStarAbove_01_Regular_BlueYellow_600x600.webm\")\n\t\t.scale(0.35 * caster.data.width)\n\t\t.timeRange(1000,2300)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t//.sound(\"SFX/FF6SFx/66CureSpellPart1.wav\")\n\t.sound(\"Custom/SFX/FF6SFx/F3DiceThrown.wav\")\n\t\t.volume(0.9)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.Gtge3dziI8HfoxdN"}},"_id":"NYHjmYIy13T90wfq"}
{"name":"ModCurseSmokeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"if(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n//let centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nnew Sequence()\n\n\t.effect()\n\t\t.atLocation(caster)\n\t\t.attachTo(caster)\n\t\t.center()\n\t\t.scale(0.5)\n\t\t.file(\"modules/jaamod/AnimatedArt/Smoke/smokeLite.webm\")\n\t\t.persist()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"core":{"sourceId":"Macro.nEWGAcVaZ6p0u6co"}},"_id":"NimxUOhGjIZjmfTN"}
{"name":"ProduceFlameMeleeSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with unarmed strike\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\n//let swoosh = Math.floor(Math.random() * 3)+1;\n//let impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 800;\nlet swooshDelay = 600;\n\nlet test = new Sequence()\n\t.sound(\"Custom/SFX/FF6SFx/03BlackMagic2.wav\")\n\t\t.volume(0.6)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Remnant_cast.mp3\")\n\t\t.volume(0.3)\n\t\t.delay(swooshDelay)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Sticky_Napalm_target.mp3\")\n\t\t.volume(0.3)\n\t\t.delay(impactDelay)\n\t\t.fadeOutAudio(200)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Unarmed_Attacks/Unarmed_Strike/UnarmedStrike_01_Regular_Blue_Physical01_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished(-500)\n\t\t.filter(\"ColorMatrix\", {hue: 180})\n\t.effect()\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/fire/fire_explosion_CIRCLE_08.webm\")\n\t\t.atLocation({x: tx, y: ty})\n\t\t.scale(0.4)\n\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.eR9DsGmYURGosE1x"}},"_id":"OMgaMnJZMgLvOUn7"}
{"name":"JumpSequenceNoCast","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and jumps the token to a targetting aid.\n//if the target is the Target Helper, deletes the helper.\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet cx = caster.data.x + 65;\nlet cy = caster.data.y + 65;\nlet tx = target.data.x;\nlet ty = target.data.y;\nif(target.data.name.includes(\"Target Helper\")){\n\ttarget.delete();\n}\nnew Sequence()\n\n\t.wait(200)\n\t.animation()\n\t\t.on(caster)\n\t\t.moveTowards({x: tx, y: ty}, {ease: \"easeInOutCubic\"})\n\t.sound(\"Custom/SFX/FF6SFx/6AJumpDragonboots.wav\")\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.knGJBOKDhWfFmD1A"}},"_id":"QsqaO4QN8NGcjcgK"}
{"name":"HammerStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with hammer\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\n//randomly determines which club strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{sound}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/FF7/014bashClean.wav\")\n\t\t.volume(0.2)\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Hammer01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200, startPoint: 600, endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.0st41W7dOrxC59Zx"}},"_id":"RkBvsSayMXxA1y4R"}
{"name":"HalberdStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with halberd\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 4)+3;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [0,0,1200,1400,1300,1700];\nlet swooshDelay = [0,0,1000,700,1200,950];\n/*adds a second swoosh for the animations that should have\nthem.*/\nlet repeat = (ani == 4 || ani == 6);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\nlet repDelay = 400;\nif(ani == 6){\n\trepDelay = 600;\n}\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Phantom_Lancer_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,repDelay)\n\t//impact\n\t//.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t.sound(\"Custom/SFX/DOTA 2/Shared_heavy_blade_impact{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Halberd01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.oIvomUJ4UxlNMJLD"}},"_id":"Rqd9lNv5Hm5prhhe"}
{"name":"ShortswordStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 4)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_small_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Shortsword01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.BwFjhXzuy39NV9gx"}},"_id":"S1gqEQQZsc6jbTsd"}
{"name":"ShootGunSequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// g u n\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Sniper_projectile_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/Bullet_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.bullet.01.orange\")\t\t\t\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:0})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.missed()\n\t\t.waitUntilFinished(-300)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_snapfire_projectile_impact.mp3\")\n\t\t.volume(0.1)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.JJc4TGCDiqzAvbIi"}},"_id":"SRdg0TDGXF7cXhPK"}
{"name":"ShootBowSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// b o w\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet swoosh = Math.floor(Math.random()*3)+1;\nlet impact = Math.floor(Math.random()*2)+1;\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Powershot_cast.mp3\")\n\t\t.volume(0.1)\n\t\t.duration(500)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_{{sound}}.mp3\")\n\t\t.volume(0.2)\n\t\t.delay(500)\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t.effect()\n\t\t.file(\"jb2a.arrow.physical.white.01\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.5)\n\t\t.scale(0.5)\n\t\t.waitUntilFinished(-1200)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_impact_{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"core":{"sourceId":"Macro.eJs02SSeHn1HX65P"},"advanced-macros":{"runAsGM":false}},"_id":"TMJQvauY1aH6Nz6c"}
{"name":"GreataxeStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with greataxe\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1800;\nlet swooshDelay = 1600;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Axe_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Axe_attack{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/GreatAxe01_01_Regular_White_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t//.stretchTo({x: tx, y: ty})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.L6wsvYf05KqKj0DE"}},"_id":"UAhQNzU4QFUlrCki"}
{"name":"IRTSequenceShort","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* An animation for the two or three action version of \n    Inner Radiance Torrent*/\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet tx = target.data.x /*+ (centerer * target.data.width)*/;\nlet ty = target.data.y /*+ (centerer * target.data.height)*/;\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\nnew Sequence()\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/KamehamehaWaveMod.mp3\")\n\t\t.startTime(6300)\n\t\t.volume(0.3)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.stretchTo(target)\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/energy/energy_beam_RAY_02.webm\")\n\t\t.fadeIn(100)\n\t\t.fadeOut(500)\n\t\t.duration(5000)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.819V1K6bA7fBf1zz"}},"_id":"UFGEzLLhHFKWzeH0"}
{"name":"ShootBowSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// b o w\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet swoosh = Math.floor(Math.random()*3)+1;\nlet impact = Math.floor(Math.random()*2)+1;\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Powershot_cast.mp3\")\n\t\t.volume(0.2)\n\t\t.duration(500)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_{{sound}}.mp3\")\n\t\t.volume(0.3)\n\t\t.delay(500)\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t.effect()\n\t\t.file(\"jb2a.arrow.physical.white.01\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.playbackRate(1.4)\n\t\t.scale(0.9)\n\t\t//.randomOffset()\n\t\t.waitUntilFinished(-800)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_impact_{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_marksmanship_target.mp3\")\n\t\t.volume(0.2)\n\t\t.startTime(100)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"core":{"sourceId":"Macro.VVwk0j5OfdUKi4rr"},"advanced-macros":{"runAsGM":false}},"_id":"UZqoRk6fC7IWFdek"}
{"name":"MaceStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with mace\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which club strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{sound}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_heavy_blade_impact{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Mace01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.DJU3DTiCkr3o8sAj"}},"_id":"VpQSNv126xrI4nbu"}
{"name":"BasicFireRaySequenceHit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire ray for use in stuff like Fire Ray.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF9/Black Magic/Fire.mp3\")\n\t\t.volume(0.8)\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.5)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.tbfexVIMnaMNbclz"}},"_id":"W68YaCWbh5bKsO8k"}
{"name":"RapierStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 4)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_small_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Pangolier_attack0{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//impact 2\n\t.sound(\"Custom/SFX/DOTA 2/Pangolier_attack_impact.mp3\")\n\t\t.volume(0.05)\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Rapier01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.bcOb3VxsgCLdPazX"}},"_id":"WuIJNW0njeVmPv2C"}
{"name":"LimitBreakSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//flavor sequence to play a limit break animation and\n//sound effect on a selected token.\n\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\t\n\t.sound(\"Custom/SFX/testlimitbreak.mp3\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation(caster)\n\t\t.center()\n\t\t.playbackRate(2.5)\n\t\t.scaleToObject(5)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500, {ease: \"easeOutSine\"})\n\t\t.belowTokens()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Twinkling_Stars/TwinklingStars_09_Orange_100x100.webm\")\n\t/*.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/explosion_CIRCLE_01.webm\")\n\t\t.timeRange(0,2000)\n\t\t.fadeIn(100)\n\t\t.fadeOut(1000)\n\t\t.scale(0.5)\n\t\t.randomRotation()\n\t\t.waitUntilFinished(-2000)*/\n\t/*.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/solar_ball_CIRCLE_01.webm\")\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3 * caster.data.width)\n\t\t//.opacity(0.5)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)*/\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.ujcH8q2OyRLsRliw"}},"_id":"YRnnWKNyxkKQ7hkF"}
{"name":"ClawStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/Pokemon/Crush Claw.mp3\")\n\t\t.volume(0.5)\n\t\t.delay(200)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Creature/Claws_01_Regular_Red_400x400.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation(target)\n\t\t.center()\n\t\t.scale({x: target.data.width, y: target.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.F1e7DFVFlLi6OUJR"}},"_id":"YkafcErK50LZFdaB"}
{"name":"BasicFireboltSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t//.sound(\"SFX/FF6SFx/01BlackMagic.wav\")\n\t.sound(\"Custom/SFX/FF6SFx/03BlackMagic2.wav\")\n\t\t.volume(0.6)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Remnant_cast.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_15ft_1000x400.webm\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.waitUntilFinished(-1100)\n\t.sound(\"Custom/SFX/DOTA 2/Sticky_Napalm_target.mp3\")\n\t\t.volume(0.3)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.mTSTN0yWAU5sbNGv"}},"_id":"ascjtejK7rY6UtuR"}
{"name":"BiteStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/Pokemon/Bite.mp3\")\n\t\t.volume(0.5)\n\t\t.delay(200)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Creature/Bite_01_Regular_Red_400x400.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation(target)\n\t\t.center()\n\t\t.scale({x: target.data.width, y: target.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.qwi0JeDzmJJX2d6f"}},"_id":"biRypl48anvgz4Fl"}
{"name":"BasicFireRaySequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire ray for use in stuff like Fire Ray.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/03BlackMagic2.wav\")\n\t\t.volume(0.6)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF9/Black Magic/Firaga.mp3\")\n\t\t.volume(0.7)\n\t\t.startTime(2000)\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.filter(\"ColorMatrix\",{hue:-20})\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.filter(\"ColorMatrix\",{hue:-20})\n\t\t.delay(1000)\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.filter(\"ColorMatrix\",{hue:-20})\n\t\t.delay(2000)\n\t\t//.scale(1.5)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.wSN9IZvu0XEJsc57"}},"_id":"cXGMwdCkITnvv3GQ"}
{"name":"SpearStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with spear\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 4)+3;\nlet blood = Math.floor(Math.random() * 4)+1;\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [0,0,1200,1400,1300,1700];\nlet swooshDelay = [0,0,1000,700,1200,950];\n/*adds a second swoosh for the animations that should have\nthem.*/\nlet repeat = (ani == 4 || ani == 6);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\nlet repDelay = 400;\nif(ani == 6){\n\trepDelay = 650;\n}\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Phantom_Lancer_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,repDelay)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Phantom_Lancer_attack{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t.sound(\"Custom/SFX/DOTA 2/Damage_blood_spatter{{act}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"act\": () => {return blood}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Spear01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jm0DhgKZ0GUngWZT"}},"_id":"cxZifXuS5xp1LjF7"}
{"name":"GlaiveStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which glaive strike animation to use\nlet ani = Math.floor(Math.random() * 4)+3;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [0,0,1200,1400,1300,1700];\nlet swooshDelay = [0,0,1000,700,1200,950];\n/*adds a second swoosh for the animations that should have\nthem.*/\nlet repeat = (ani == 4 || ani == 6);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\nlet repDelay = 400;\nif(ani == 6){\n\trepDelay = 650;\n}\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Phantom_Lancer_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,repDelay)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Glaive01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.hV2fXnWKI1tJUNbi"}},"_id":"d9jvBk1KULn1OR0p"}
{"name":"ClubStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with club\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\n//randomly determines which club strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{sound}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/FF7/014bashClean.wav\")\n\t\t.volume(0.2)\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Club01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.jkPSpsYew5A9WSIM"}},"_id":"dHuXTNmVivZODa7g"}
{"name":"BlessSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"if(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\nlet centerer = game.canvas.grid.size/2;\n\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/02WhiteMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1500,2500)\n\t\t.scale(1.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_dawnbreaker_elated_channel.mp3\")\n\t\t.volume(0.1)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Magic_Signs/EnchantmentCircleIntro_02_Regular_Pink_800x800.webm\")\n\t\t.scale(0.4 * caster.data.width)\n\t\t.filter(\"ColorMatrix\", {hue: 116})\n\t\t.belowTokens()\n\t\t.waitUntilFinished(-1300)\n\t.sound(\"Custom/SFX/DOTA 2/Purification.mp3\")\n\t\t.volume(0.2)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.attachTo(caster)\n\t\t.file(\"modules/JB2A_DnD5e/Library/1st_Level/Bless/Bless_01_Regular_Yellow_Loop_200x200.webm\")\n\t\t.scale(2 * caster.data.width)\n\t\t//.playbackRate(0)\n\t\t.persist()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.7oN40wicmDoRlxdK"}},"_id":"dJhj0Wjto30vh2yN"}
{"name":"SpiritualWeaponSequenceTemplate","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with sword\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 4)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_small_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Sword01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:1000,endPoint:0})\n\t\t.atLocation({x: tx, y: ty})\n\t\t.rotateTowards({x: cx, y: cy})\n\t\t.rotate(180)\n\t\t.opacity(0.6)\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.filter(\"ColorMatrix\",{saturate: -1, contrast: 0.5})\n\t\t.filter(\"Glow\", {distance: 10, outerStrength: 4, innerStrength: 0,color: 0xffffff})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.nnwhTyzipgbdITRJ"}},"_id":"dlq7YWql2KL1l95W"}
{"name":"BasicFireRaySequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire ray for use in stuff like Fire Ray.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF9/Black Magic/Fire.mp3\")\n\t\t.volume(0.8)\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.missed()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.Kx4biklrdNKN8VBs"}},"_id":"eEw47f6SEwe09G9U"}
{"name":"SwordStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with sword\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 4)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_small_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Sword01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.zZu2Hot5FtE4wA55"}},"_id":"fJGPuLAV4UdAGo3N"}
{"name":"GreatclubStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with greataxe\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet dx = tx - cx;\nlet dy = ty - cy;\nlet distance = Math.sqrt((dx*dx)+(dy*dy));\nconsole.log(\"distance\", distance);\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1200;\nlet swooshDelay = 1000;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_heavy_blade_impact{{imp}}.mp3\")\n\t\t.volume(0.15)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//impact2\n\t.sound(\"Custom/SFX/DOTA 2/Bash_(Slardar)_proc.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/GreatClub01_01_Regular_White_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:distance})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.0SYfPixULYLRIHqL"}},"_id":"iTb59bp3YyecAG4f"}
{"name":"ClubStrikeSequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with club\n//should randomly select a valid animation\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet num = Math.floor(Math.random() * 5)+1;\nconsole.log(num);\n\nlet test = new Sequence()\n\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Club01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return num;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t.sound(\"Custom/SFX/Sekiro/Block1.wav\")\n\t\t.volume(0.2)\n\t\t.delay(1200)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.F7ezQYk5nSX9L6Ia"}},"_id":"j28r3WNRD661vLD1"}
{"name":"UnarmedStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with unarmed strike\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 800;\nlet swooshDelay = 600;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_marci_preattack0{{whoosh}}.mp3\")\n\t\t.volume(0.2)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_marci_attack0{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Unarmed_Attacks/Unarmed_Strike/UnarmedStrike_01_Regular_Blue_Physical01_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.3utRszQoDfIVLb1d"}},"_id":"juDP0PRENVgv9rcG"}
{"name":"ShootGunSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// g u n\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Assassinate_Cast.mp3\")\n\t\t.volume(0.15)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Ranged/Bullet_01_Regular_Orange_15ft_1000x400.webm\")\n\t\t.file(\"jb2a.bullet.01.orange\")\t\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.waitUntilFinished(-300)\n\t.sound(\"Custom/SFX/DOTA 2/Assassinate_target1.mp3\")\n\t\t.volume(0.15)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.kfUP7XqrhHEZOlds"}},"_id":"lI45ZUrDQGLyYYlE"}
{"name":"LaserSwordStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with mace\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1050;\nlet swooshDelay = 950;\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\n\nlet test = new Sequence()\n\n\t//saber on\n\t.sound(\"Custom/SFX/sabersounds/fx4.wav\")\n\t\t.volume(0.4)\n\t//swoosh\n\t.sound(\"Custom/SFX/sabersounds/Swing01.wav\")\n\t\t.volume(0.2)\n\t\t.delay(swooshDelay)\n\t//impact\n\t.sound(\"Custom/SFX/sabersounds/LSwall02.wav\")\n\t\t.volume(0.2)\n\t\t.delay(impactDelay)\n\t//saber off\n\t.sound(\"Custom/SFX/sabersounds/fx5.wav\")\n\t\t.delay(impactDelay+200)\n\t\t.volume(0.3)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/LaserSword01_01_Regular_Blue_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.waitUntilFinished()\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.SRvgMWt2OprO5lUP"}},"_id":"lgWEKPvjXuDbxWtw"}
{"name":"DaggerStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with dagger\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 2)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 800;\nlet swooshDelay = 600;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Bloodseeker_preattack{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Bloodseeker_attack{{imp}}.mp3\")\n\t\t.volume(0.1)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Dagger02_01_Regular_White_800x600.webm\")\n\t\t//.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.s3553KmPfsQlc8Eu"}},"_id":"lpcRnigHtyUQzaNs"}
{"name":"WarhammerStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with warhammer\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\n//randomly determines which club strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_axe_preattack0{{sound}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/FF7/014bashClean.wav\")\n\t\t.volume(0.2)\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Warhammer01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();\n\n//screw around with promise things here if desired\n/*test.then(\n\tfunction value(){\n\t\tconsole.log(\"all done\");\n\t}\n);*/","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.o86sL7noQx38qAe4"}},"_id":"lxJabGh64ZMantPn"}
{"name":"IRTSequenceCharge","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/*An animation for the charge up of the two round version\n    of Inner Radiance Torrent.*/\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DBZ Charge.mp3\")\n\t\t.volume(0.2)\n\t\t.startTime(2000)\n\t\t.duration(4000)\n\t\t.fadeInAudio(1000)\n\t\t.fadeOutAudio(700)\n\t.effect()\n\t\t//.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/energy/energy_wheel_loop_CIRCLE.webm\")\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/magic/magic_sphere_1token_SQUARE.webm\")\n\t\t.duration(4000)\n\t\t.filter(\"ColorMatrix\",{hue: 180})\n\t\t.fadeIn(200)\n\t\t.fadeOut(200)\n\t\t.scale(0.7)\n\t\t.atLocation({x: cx, y:cy})\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.yiv2HJA3fat43jbk"}},"_id":"m3iKPDBxst0Qamqz"}
{"name":"FoxfireStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x;\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet side = Math.random();\nif(side < 0.5){\n\tconsole.log(\"Right side\");\n\tcx = cx + (game.canvas.grid.size * caster.data.width);\n} else {\n\tconsole.log(\"Left side\");\n}\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Spirits_Cast.mp3\")\n\t\t.volume(0.3)\n\t\t.timeRange(0,2000)\n\t.effect()\n\t\t//little blue fireball\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.timeRange(1000,2500)\n\t\t.filter(\"ColorMatrix\", {hue: 72})\n\t\t.scale(0.05)\n\t\t.fadeIn(350)\n\t\t.fadeOut(100)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/fire_ball_rotating_CIRCLE_02.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Spirits_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.fire_bolt.orange\")\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.3)\n\t\t.filter(\"ColorMatrix\", {hue: 162})\n\t\t.waitUntilFinished(-1000)\n\t.sound(\"Custom/SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t.volume(0.2)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.pMCW3NVyERsBhBgZ"}},"_id":"mXOKA0UssjcqKxpp"}
{"name":"IRTSequenceLong","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* An animation for the last part of the two round \n    version of Inner Radiance Torrent*/\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet caster = game.canvas.tokens.controlled[0];\nlet tx = target.data.x /*+ (centerer * target.data.width)*/;\nlet ty = target.data.y /*+ (centerer * target.data.height)*/;\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\nnew Sequence()\n\n\t/*.sound(\"SFX/DBZ Charge.mp3\")\n\t\t.volume(0.5)\n\t\t.startTime(2000)\n\t\t.duration(3000)\n\t\t.fadeInAudio(2500)*/\n\t\t//.fadeOutAudio(100)\n\t.sound(\"Custom/SFX/KamehamehaWaveMod.mp3\")\n\t\t//.startTime(6300)\n\t\t.startTime(2000)\n\t\t.fadeInAudio(2000)\n\t.effect()\n\t\t//.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/energy/energy_wheel_loop_CIRCLE.webm\")\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/magic/magic_sphere_1token_SQUARE.webm\")\n\t\t.duration(4000)\n\t\t.filter(\"ColorMatrix\",{hue: 180})\n\t\t.fadeIn(200)\n\t\t.fadeOut(200)\n\t\t.scale(0.7)\n\t\t.atLocation({x: cx, y:cy})\n\t\t.waitUntilFinished()\n\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.gridSize(140)\n\t\t.reachTowards(target)\n\t\t//.reachTowards({x: ty, y: ty})\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/energy/energy_beam_RAY_02.webm\")\n\t\t.fadeIn(100)\n\t\t.fadeOut(500)\n\t\t.duration(5000)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.rz8EHd5dZOPomArx"}},"_id":"ni3PRVOebzJ7CVLm"}
{"name":"WhirlingFlamesSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a fireball animation on all targeted tokens\n//add a new one manually each time it heightens. Loops\n///don't work well with sequencers.\nlet targets = canvas.tokens.controlled;\nif(targets.length < 3 || targets.length > 3){\n\tui.notifications.error(\"Please select exactly 3 tokens: your character, and two target helpers\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet animation = \"modules/animated-spell-effects/spell-effects/energy/energy_explosion_CIRCLE_06.webm\";\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + 80;\nlet cy = caster.data.y + 80;\nnew Sequence()\n\n\t.sound(\"SFX/FF6SFx/01BlackMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.5)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/FF6SFx/42Fire2.wav\")\n\t\t//.delay(200)\n\t\t//.waitUntilFinished()\n\t.effect()\n\t\t.atLocation(targets[2])\n\t\t.center()\n\t\t.file(animation)\n\t\t.scale(0.75)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t\t.timeRange(100,850)\n\t\t.randomRotation()\n\t\t.waitUntilFinished(-300)\n\t\t//.delay(200)\n\t.effect()\n\t\t.atLocation(targets[1])\n\t\t.center()\n\t\t.file(animation)\n\t\t.scale(0.75)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t\t.timeRange(100,850)\n\t\t.randomRotation()\n\t\t//.delay(300)\n\t.sound(\"Custom/SFX/FF6SFx/42Fire2.wav\")\n\t\t//.delay(300)\n\t\t//.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.GMOarLlCno0kYdJo"}},"_id":"nr46GQFnzONK0j9L"}
{"name":"TimeJumpSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and teleports the token to a targetting aid.\n//if the target is the Target Helper, deletes the helper.\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet tx = target.data.x;\nlet ty = target.data.y;\nif(target.data.name.includes(\"Target Helper\")){\n\ttarget.delete();\n}\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/00BlueMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.startTimePerc(0.5)\n\t\t.timeRange(100,1700)\n\t\t.scale(0.5)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Energy/SwirlingSparkles_01_Regular_Blue_400x400.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.effect()\n\t\t//greeblies for token vanishing\n\t\t.atLocation({x: cx, y: cy})\n\t\t.scale(0.5)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/energy/flash_CIRCLE_01.webm\")\n\t.effect()\n\t\t//greeblies for token arriving\n\t\t.atLocation({x: tx + (centerer * target.data.width), y: ty + (centerer * target.data.height)})\n\t\t.scale(0.5)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/energy/flash_CIRCLE_01.webm\")\n\t.wait(200)\n\t.animation()\n\t\t.on(caster)\n\t\t.teleportTo({x: tx, y: ty})\n\t.sound(\"Custom/SFX/FF6SFx/7CBoom.wav\")\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.OTiZkWZLrWb47QCo"}},"_id":"oonmuM0kRGSnAabB"}
{"name":"FoxfireStrikeSequenceCritMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"/* basic fire bolt for use in stuff like Produce Flame.\n   less resource intensive than other versions.  */\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x;\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet side = Math.random();\nif(side < 0.5){\n\tconsole.log(\"Right side\");\n\tcx = cx + (game.canvas.grid.size * caster.data.width);\n} else {\n\tconsole.log(\"Left side\");\n}\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Spirits_Cast.mp3\")\n\t\t.volume(0.3)\n\t\t.timeRange(0,2000)\n\t.effect()\n\t\t//little blue fireball\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.timeRange(1000,2500)\n\t\t.filter(\"ColorMatrix\", {hue: 72})\n\t\t.scale(0.05)\n\t\t.fadeIn(350)\n\t\t.fadeOut(100)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/fire_ball_rotating_CIRCLE_02.webm\")\n\t\t.waitUntilFinished(-300)\n\t.effect()\n\t\t//fizzle\n\t\t.file(\"modules/animated-spell-effects-cartoon/spell-effects/cartoon/fire/fire_explosion_CIRCLE_01.webm\")\n\t\t.atLocation({x: cx, y: cy - (centerer/4) - 10})\n\t\t.scale(0.1)\n\t\t.filter(\"ColorMatrix\", {hue: 162})\n\t.sound(\"Custom/SFX/DOTA 2/Liquid_fire_cast.mp3\")\n\t\t.volume(0.1)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.LUVsSIeNv2XFH5tH"}},"_id":"pATQCZD8BaCN6sso"}
{"name":"SearingLightSequenceHit","type":"script","author":"gN2IS1aOvb93eNAA","img":"systems/pf2e/icons/spells/searing-light.webp","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a fire ray animation connecting the caster and the target\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\n\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.3)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.effect()\n\t\t.file(\"jb2a.scorching_ray.01.orange\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.filter(\"ColorMatrix\", {hue: 25})\n\t\t.startTime(400)\n\t\t.randomOffset(0.5)\n\t.sound(\"Custom/SFX/DarkestDungeon/char_al_vst_judgement.wav\")\n\t\t.delay(200)\n\t\t.volume(0.3)\n\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.9c7fWuN7EcHIzVn8"}},"_id":"r4UrA5dPaAllNd19"}
{"name":"MirrorImageSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//\nlet caster = game.canvas.tokens.controlled[0];\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/00BlueMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t//.startTimePerc(0.5)\n\t\t.timeRange(100,1700)\n\t\t.scale(0.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Energy/SwirlingSparkles_01_Regular_Blue_400x400.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.sound(\"Custom/SFX/DOTA 2/Reflection.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Magic_Signs/IllusionCircleLoop_02_Regular_Purple_800x800.webm\")\n\t\t.timeRange(1000,1700)\n\t\t.scale(0.2)\n\t\t.fadeIn(200)\n\t\t.fadeOut(500)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.kOkOks4tqyrxbaw9"}},"_id":"rjViHLCH2JxziCfY"}
{"name":"GreatswordStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with greatsword\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 4)+1;\n\n//randomly determines which greataxe strike animation to use\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = 1700;\nlet swooshDelay = 1550;\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_large_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay)\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Sven_attack{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/GreatSword01_01_Regular_White_800x600.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.JjyWxXLvxBC6RFF8"}},"_id":"soLEX1lREkMDLpYY"}
{"name":"FireballSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"modules/JB2A_DnD5e/Library/3rd_Level/Fireball/FireballExplosion_01_Orange_Thumb.webp","scope":"global","command":"//plays an FF6 esque casting animation on the selected token,\n//and plays a fireball animation on the targeted token\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/01BlackMagic.wav\")\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1000,2500)\n\t\t.scale(0.5 * caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/magic/magic_shockwave_CIRCLE_12.webm\")\n\t\t.waitUntilFinished()\n\t.wait(200)\n\t.sound(\"Custom/SFX/FF6SFx/19Fire3.wav\")\n\t.effect()\n\t\t.atLocation({x: tx, y: ty})\n\t\t.file(\"modules/JB2A_DnD5e/Library/3rd_Level/Fireball/FireballExplosion_01_Orange_800x800.webm\")\n    \t.scale(1.5)\n\t\t.fadeIn(500)\n\t\t.fadeOut(500)\n\t\t.randomRotation()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.wzUtohdXF3lGt7dD"}},"_id":"t7N2lBtqNnBdv7to"}
{"name":"FoxfireStrikeSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//normal foxfire but both sides simultaneously\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx1 = caster.data.x;\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet cx2 = caster.data.x + (game.canvas.grid.size * caster.data.width);\n\nnew Sequence()\n\n\t//crit sfx\n\t//.sound(\"Custom/SFX/FE/Critical.mp3\")\n\t\t//.volume(0.2)\n\t//crit flash\n\t//.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Generic/Twinkling_Stars/TwinklingStars_04_100x100.webm\")\n\t\t//.atLocation({x: cx1 + 37, y: cy + 7})\n\t\t//.scale(0.3)\n\t\t//.duration(1000)\n\t\t//.fadeOut(500)\n\t\t//.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Fire_Spirits_Cast.mp3\")\n\t\t.volume(0.3)\n\t\t.timeRange(0,2000)\n\t.effect()\n\t\t//little blue fireball\n\t\t.atLocation({x: cx1, y: cy - (centerer/4) - 10})\n\t\t.timeRange(1000,2500)\n\t\t.filter(\"ColorMatrix\", {hue: 72})\n\t\t.scale(0.05)\n\t\t.fadeIn(350)\n\t\t.fadeOut(100)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/fire_ball_rotating_CIRCLE_02.webm\")\n\t.effect()\n\t\t//little blue fireball\n\t\t.atLocation({x: cx2, y: cy - (centerer/4) - 10})\n\t\t.timeRange(1000,2500)\n\t\t.filter(\"ColorMatrix\", {hue: 72})\n\t\t.scale(0.05)\n\t\t.fadeIn(350)\n\t\t.fadeOut(100)\n\t\t.file(\"modules/animated-spell-effects/spell-effects/fire/fire_ball_rotating_CIRCLE_02.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"SFX/DOTA 2/Fire_Spirits_launch.mp3\")\n\t\t.volume(0.3)\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.fire_bolt.orange\")\n\t\t.atLocation({x: cx1, y: cy - (centerer/4) - 10})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.3)\n\t\t.filter(\"ColorMatrix\", {hue: 162})\n\t.effect()\n\t\t//.file(\"modules/JB2A_DnD5e/Library/Cantrip/Fire_Bolt/FireBolt_01_Regular_Orange_30ft_1600x400.webm\")\n\t\t.file(\"jb2a.fire_bolt.orange\")\n\t\t.atLocation({x: cx2, y: cy - (centerer/4) - 10})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.randomOffset(0.3)\n\t\t.filter(\"ColorMatrix\", {hue: 162})\n\t\t.waitUntilFinished(-1000)\n\t//.sound(\"SFX/DOTA 2/Lina_projectile_impact.mp3\")\n\t\t//.volume(0.2)\n\t.sound(\"Custom/SFX/DOTA 2/Liquid_Fire_cast.mp3\")\n\t\t.volume(0.2)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.Hu5y0zkk1d143e4n"}},"_id":"uyP3y3vVS7CnAegP"}
{"name":"JawsStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/Pokemon/Bite.mp3\")\n\t\t.volume(0.5)\n\t\t.delay(200)\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Creature/Bite_01_Regular_Red_400x400.webm\")\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation(target)\n\t\t.center()\n\t\t.scale({x: target.data.width, y: target.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.98WvUPA7Fy5OqArh"}},"_id":"vR04Q1qahFPUwCRg"}
{"name":"ShootBowSequenceMiss","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"// b o w\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet swoosh = Math.floor(Math.random()*3)+1;\nlet impact = Math.floor(Math.random()*2)+1;\nnew Sequence()\n\n\t.sound(\"Custom/SFX/DOTA 2/Powershot_cast.mp3\")\n\t\t.volume(0.1)\n\t\t.duration(500)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_{{sound}}.mp3\")\n\t\t.volume(0.2)\n\t\t.delay(500)\n\t\t.setMustache({\"sound\": () => {return swoosh}})\n\t.effect()\n\t\t.file(\"jb2a.arrow.physical.white.01\")\n\t\t.atLocation({x: cx, y: cy})\n\t\t.template({gridSize:200,startPoint:200,endPoint:200})\n\t\t.stretchTo({x: tx, y: ty})\n\t\t.missed()\n\t\t.waitUntilFinished(-1200)\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_drow_ranger_arrow_impact_{{imp}}.mp3\")\n\t\t.volume(0.05)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.qcvAxpLz4QnUlgXk"}},"_id":"vrgGoQy9hr7ON3yr"}
{"name":"FalchionStrikeSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with falchion\n/*randomly selects animations and sound effects from\n  a set and modifies the sequence to ensure that each\n  SFX and animation syncs up.*/\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\n\nlet swoosh = Math.floor(Math.random() * 3)+1;\nlet impact = Math.floor(Math.random() * 3)+1;\n//randomly determines which falchion strike animation to use\nlet ani = Math.floor(Math.random() * 6)+1;\n\n/*the amount of time the sfx should delay for each\n  individual strike animation.*/\nlet impactDelay = [1200,1200,1200,1200,1300,1700];\nlet swooshDelay = [1000,1000,1000,1000,1200,900];\n/*adds a second swoosh for the animations that should have\nthem. Each one that should have two is even.*/\nlet repeat = (ani % 2 == 0);\nif(repeat){\n\trepeat = 2;\n} else {\n\trepeat = 1;\n}\n\nlet test = new Sequence()\n\n\t//swoosh\n\t.sound(\"Custom/SFX/DOTA 2/Shared_large_blade_whoosh{{whoosh}}.mp3\")\n\t\t.volume(0.15)\n\t\t.delay(swooshDelay[ani-1])\n\t\t.setMustache({\"whoosh\": () => {return swoosh}})\n\t\t.repeats(repeat,700)\n\t//impact\n\t.sound(\"Custom/SFX/DOTA 2/Shared_sword_impact{{imp}}.mp3\")\n\t\t.volume(0.2)\n\t\t.setMustache({\"imp\": () => {return impact}})\n\t\t.delay(impactDelay[ani-1])\n\t//animation\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Falchion01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return ani;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t\t.waitUntilFinished()\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.oPp4KyuD1cqxGsmD"}},"_id":"wDpXXjilenzIvhp6"}
{"name":"FaerieFireSequence","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"let target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\n\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet caster = game.canvas.tokens.controlled[0];\nlet centerer = game.canvas.grid.size/2;\n\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nnew Sequence()\n\n\t.sound(\"Custom/SFX/FF6SFx/02WhiteMagic.wav\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.atLocation({x: cx, y: cy})\n\t\t.timeRange(1500,2500)\n\t\t.scale(1.5* caster.data.width)\n\t\t.fadeIn(350)\n\t\t.fadeOut(500)\n\t\t//.file(\"modules/animated-spell-effects/spell-effects/energy/energy_explosion_02.webm\")\n\t\t.file(\"modules/JB2A_DnD5e/Library/1st_Level/Cure_Wounds/CureWounds_01_Blue_200x200.webm\")\n\t\t.waitUntilFinished()\n\t.sound(\"Custom/SFX/DOTA 2/Enchant_cast.mp3\")\n\t\t.volume(0.2)\n\t.effect()\n\t\t.atLocation({x: tx, y: ty})\n\t\t.file(\"modules/animated-spell-effects/spell-effects/energy/energy_quickburst_CIRCLE_07.webm\")\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.vk0m9j4VFyAzrdmd"}},"_id":"wEZvT3goL1zkH11n"}
{"name":"ClubStrikeSequenceCrit","type":"script","author":"gN2IS1aOvb93eNAA","img":"icons/svg/dice-target.svg","scope":"global","command":"//animation for striking with club\n//should randomly select a valid animation\n\nlet target = game.user.targets.values().next().value;\nif(target == undefined || target == null){\n\tui.notifications.error(\"Please select a target.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nif(game.canvas.tokens.controlled.length > 1 || game.canvas.tokens.controlled.length < 1){\n\tui.notifications.error(\"Please select exactly one token.\");\n\tgame.macros.getName(\"Lagomorph\").execute();\n\treturn;\n}\nlet centerer = game.canvas.grid.size/2;\nlet tx = target.data.x + (centerer * target.data.width);\nlet ty = target.data.y + (centerer * target.data.height);\nlet caster = game.canvas.tokens.controlled[0];\nlet cx = caster.data.x + (centerer * caster.data.width);\nlet cy = caster.data.y + (centerer * caster.data.height);\n\nlet num = 6;\n//console.log(num);\n\nlet test = new Sequence()\n\n\t.sound(\"Custom/SFX/FE/Critical.mp3\")\n\t\t.volume(0.4)\n\t.effect()\n\t\t.file(\"modules/JB2A_DnD5e/Library/Generic/Weapon_Attacks/Melee/Club01_0{{number}}_Regular_White_800x600.webm\")\n\t\t.setMustache({\"number\": () => {return num;}})\n\t\t.template({gridSize:200,startPoint:600,endPoint:0})\n\t\t.atLocation({x: cx, y: cy})\n\t\t.rotateTowards({x: tx, y: ty})\n\t\t.scale({x: caster.data.width, y: caster.data.height})\n\t.sound(\"Custom/SFX/DOTA 2/Weapons_hero_dawnbreaker_attack01.mp3\")\n\t\t.volume(0.4)\n\t\t.delay(1700)\n\t.play();","folder":null,"sort":0,"permission":{"default":0,"gN2IS1aOvb93eNAA":3},"flags":{"advanced-macros":{"runAsGM":false},"core":{"sourceId":"Macro.QkWCaWoHjRFolnSg"}},"_id":"yV5HXXuLS73L3mgc"}
